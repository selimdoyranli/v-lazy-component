"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("vue"),t=e.defineComponent({name:"LazyComponent",props:{wrapperTag:{type:String,required:!1,default:"div"},isIntersected:{type:Boolean,required:!1,default:!1},idle:{type:Boolean,required:!1,default:!1},rootMargin:{type:String,required:!1,default:"0px 0px 0px 0px"},threshold:{type:[Number,Array],required:!1,default:0}},setup:function(t,r){var n=r.emit,o=e.ref(null),i=e.reactive({wrapperTag:t.wrapperTag,isIntersected:t.isIntersected,idle:t.idle,rootMargin:t.rootMargin,threshold:t.threshold,observer:null});e.watch((function(){return t.isIntersected}),(function(e){e&&(i.isIntersected=!0)})),e.watch((function(){return i.isIntersected}),(function(e){e&&n("intersected",o.value)}));var s=function(){return"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&"isIntersecting"in window.IntersectionObserverEntry.prototype},a=function(e){i.isIntersected=e.some((function(e){return e.intersectionRatio>0})),i.isIntersected&&d()},d=function(){s()&&i.observer.unobserve(o.value)};return e.onMounted((function(){var e;s()?i.isIntersected||i.idle||(e={root:void 0,rootMargin:i.rootMargin,threshold:i.threshold},i.observer=new IntersectionObserver(a,e),i.observer.observe(o.value)):i.isIntersected=!0,i.isIntersected&&n("intersected",o.value)})),e.onBeforeUnmount((function(){i.isIntersected||i.idle||d()})),{rootRef:o,state:i}}});t.render=function(t,r,n,o,i,s){return e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.state.wrapperTag),{ref:"rootRef",class:e.normalizeClass(["v-lazy-component",{"v-lazy-component--loading":!t.state.isIntersected,"v-lazy-component--loaded":t.state.isIntersected}]),style:{minWidth:"1px",minHeight:"1px"}},{default:e.withCtx((function(){return[t.state.isIntersected?e.renderSlot(t.$slots,"default",{key:0}):e.createCommentVNode("",!0),t.state.isIntersected?e.createCommentVNode("",!0):e.renderSlot(t.$slots,"placeholder",{key:1})]})),_:3},8,["class"])},t.__scopeId="data-v-5088338c";var r=function(){var e=t;return e.install=function(t){t.component("LazyComponent",e)},e}();exports.default=r;